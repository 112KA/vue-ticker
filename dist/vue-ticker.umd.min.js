/*!
 * vue-ticker v0.1.0 
 * (c) 2019 112KA
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self,t.VueTicker=e())}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}var i=function(){function e(){t(this,e),this.fps=30,this._tickList=[],this._defineFunctions()}return n(e,[{key:"_defineFunctions",value:function(){for(var t=this,e=["ms","moz","webkit","o"],n=e.length;--n>-1&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];this._tickHandler=function(){t._requestId=window.requestAnimationFrame(t._tickHandler),t._lastMs=t.time;var e=t._lastMs-t._nextMs;e>=0&&(t._nextMs+=e+(e>=t._gap?1:t._gap-e),t._tickList.forEach(function(t){return t()}))}}},{key:"_start",value:function(){this.running=!0,this._startMs=this.time,this._nextMs=this._startMs+this._gap,this._requestId=window.requestAnimationFrame(this._tickHandler)}},{key:"_stop",value:function(){this.running=!1,window.cancelAnimationFrame(this._requestId)}},{key:"add",value:function(t){0==this._tickList.length&&this._start(),this._tickList.push(t)}},{key:"remove",value:function(t){var e=this._tickList.indexOf(t);e>=0&&this._tickList.splice(e,1),0==this._tickList.length&&this._stop()}},{key:"fps",get:function(){return this._fps},set:function(t){this._fps=t,this._gap=1/(t||60)*1e3}},{key:"time",get:function(){return Date.now()||(new Date).getTime()}}]),e}(),s=new i,o=function(t){t.prototype.$add=function(t,e){return t+e},t.prototype.$ticker=s},r={install:o,version:"0.1.0"};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),r});